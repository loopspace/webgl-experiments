<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>webgl Experiments: Images</title>
    <script src="../utilities/sylvester.js"></script>
    <script src="../utilities/glUtils.js"></script>
    <script src="js/image.js"></script>
    <script src="js/main.js"></script>
    <link href="css/style.css" rel="stylesheet">
    <script id="shader-pre-fs" type="x-shader/x-fragment">
      //uniform lowp float DeltaTime;

      //The interpolated vertex colour for this fragment
      varying lowp vec4 vColour;

      //The interpolated coordinate for this fragment
      varying lowp vec2 vTexcoord;
      
void main()
      {
    </script>
    <script id="shader-post-fs" type="x-shader/x-fragment">
}
    </script>
    <script id="shader-vs" type="x-shader/x-vertex">
      attribute vec3 vertexPosition;
      attribute vec4 vertexColour;
      attribute vec2 textureCoordinate;
    
      uniform mat4 uMVMatrix;
      uniform mat4 uPMatrix;
      
      varying lowp vec4 vColour;
      varying lowp vec2 vTexcoord;
    
      void main(void) {
        gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);
        vColour = vertexColour;
        vTexcoord = textureCoordinate;
      }
    </script>
  </head>
  <body onload="start()">
    <div id="images" class="hidden"></div>
    <div id="shader">
      <form id="shaderForm">
	<textarea id="shaderText">lowp vec4 c = texture2D(texture, vTexcoord);
c *= vColour;
// Your code in here

gl_FragColor = c;
	</textarea>
	<button id="reload" type="button">Reload</button>
	<button id="reset" type="button">Reset</button>
	<br>
	<table id='textable'>
	  <tr>
	    <th>Texture</th><th>Image</th>
	  </tr>
	  <tr>
	    <td><code>texture</code></td><td>
	      <select id="texture">
		<optgroup label="Backgrounds" id="backgrounds">
		  <option value="0">Colour Circles</option>
		  <option value="1">Domkirke (winter)</option>
		  <option value="2">Nidelva (winter)</option>
		  <option value="3">Matlock Bridge</option>
		  <option value="4">Matlock River</option>
		  <option value="5">Connisborough Viaduct</option>
		  <option value="6">Connisborough Castle</option>
		  <option value="7">Roche Abbey</option>
		  <option value="8">Trondheim Warehouses</option>
		  <option value="9">Bymarka</option>
		  <option value="10">Domkirke (summer)</option>
		  <option value="11">Trondheim Railway Bridge</option>
		  <option value="12">Ilen Kirke</option>
		  <option value="13">Nidelva (autumn)</option>
		  <option value="14">Beetle Drive</option>
		  <option value="15">Universitet</option>
		  <option value="16">Butterfly</option>
		  <option value="17">Green Dragonfly</option>
		  <option value="18">Blue Dragonfly</option>
		</optgroup>
		<optgroup label="Shakespeare Characters" id="chars">
		  <option value="19">Bianca</option>
		  <option value="20">Brutus</option>
		  <option value="21">Cleopatra</option>
		  <option value="22">Cordelia</option>
		  <option value="23">Desdamona</option>
		  <option value="24">Falstaff</option>
		  <option value="25">Hamlet</option>
		  <option value="26">Hero</option>
		  <option value="27">Juliet</option>
		  <option value="28">Kent</option>
		  <option value="29">Lady Macbeth</option>
		  <option value="30">Macbeth</option>
		  <option value="31">Romeo</option>
		  <option value="32">Yago</option>
		</optgroup>
		<optgroup label="Silhouettes" id="sils">
		  <option value="33">Scorpion</option>
		  <option value="34">Chicken</option>
		  <option value="35">Eagle</option>
		  <option value="36">Shark</option>
		  <option value="37">Horse</option>
		  <option value="38">Horse rearing</option>
		  <option value="39">Frog</option>
		  <option value="40">Butterfly</option>
		  <option value="41">Cow</option>
		  <option value="42">Dog</option>
		  <option value="43">Stork</option>
		</optgroup>
		<optgroup label="Masks" id="masks">
		  <option value="44">Rectangle</option>
		  <option value="45">Ellipse</option>
		  <option value="46">Diamond</option>
		  <option value="47">Trapezium</option>
		  <option value="48">Semicircle</option>
		  <option value="49">Hexagon</option>
		  <option value="50">Octagon</option>
		  <option value="51">Star</option>
		  <option value="52">Kite</option>
		  <option value="53">Dart</option>
		  <option value="54">Sector</option>
		  <option value="55">Cloud</option>
		  <option value="56">Starburst</option>
		  <option value="57">Signal</option>
		  <option value="58">Tape</option>
		  <option value="59">Arrow</option>
		  <option value="60">Ellipse Callout</option>
		  <option value="61">Rectangle Callout</option>
		  <option value="62">Cloud Callout</option>
		  <option value="63">Rounded Rectangle</option>
		  <option value="64">Chamfered Rectangle</option>
w		</optgroup>
		<optgroup label="Your Pictures" id="yourpics">
		</optgroup>
	      </select>
	    </td>
	  </tr>
	</table>
	<ul>
	  <li><button type="button" id="addtex" name="addtex">Add texture</button>
	  <li><button type="button" id="rmtex" name="rmtex">Remove texture</button>
	  <li>Add image to list <input type="file" id="imgload"
			       name="addImage" />
	</ul>
	<p id="imgsrc">
	  Shakespeare Characters and Silhouettes from <a href="https://openclipart.org">OpenClipart</a>.
	</p>
	<h4>Corner Colours</h4>
	<table>
	  <tr>
	    <td><input type="color" id="ul" value="#ff0000"></td>
	    <td><input type="color" id="ur" value="#0000ff"></td>
	  </tr>
	  <tr>
	    <td><input type="color" id="bl" value="#00ff00"></td>
	    <td><input type="color" id="br" value="#ffffff"></td>
	  </tr>
	</table>
      </form>
    </div>
    <div id="container">
      <canvas id="glCanvas" width="640" height="480">
	Your browser doesn't appear to support the 
	<code>&lt;canvas&gt;</code> element.
      </canvas>
    </div>
    <div id="wrapper">
      <div id="error">
      </div>
      <div id="help"><a href="help.html" target="_blank">?</a></div>
    </div>
  </body>
</html>
